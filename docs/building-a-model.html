<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Building a model | main.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Building a model | main.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Building a model | main.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-preparation-and-preprocessing.html"/>
<link rel="next" href="interpretation-and-managerial-implications.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><B>Mirza Mujanovic Portfolio</B></a></li>

<li class="divider"></li>
<li class="part"><span><b>I About me</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Who I am?</a></li>
<li class="part"><span><b>II My work</b></span></li>
<li class="chapter" data-level="1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html"><i class="fa fa-check"></i><b>1</b> Emotions In Online Customer Reviews</a><ul>
<li class="chapter" data-level="" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#what-to-expect-in-this-article"><i class="fa fa-check"></i>What to expect in this article?</a></li>
<li class="chapter" data-level="1.1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#dictionaries-for-nlp"><i class="fa fa-check"></i><b>1.1</b> Dictionaries for NLP</a></li>
<li class="chapter" data-level="1.2" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#data-set"><i class="fa fa-check"></i><b>1.2</b> Data set</a></li>
<li class="chapter" data-level="1.3" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#corpus-cleaning"><i class="fa fa-check"></i><b>1.3</b> Corpus cleaning</a></li>
<li class="chapter" data-level="1.4" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#visualisations-of-terms-frequency"><i class="fa fa-check"></i><b>1.4</b> Visualisations of terms frequency</a><ul>
<li class="chapter" data-level="1.4.1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#bar-charts-with-the-most-frequent-terms"><i class="fa fa-check"></i><b>1.4.1</b> Bar charts with the most frequent terms</a></li>
<li class="chapter" data-level="1.4.2" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#wordcloud-with-the-most-frequent-terms"><i class="fa fa-check"></i><b>1.4.2</b> Wordcloud with the most frequent terms</a></li>
<li class="chapter" data-level="1.4.3" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#the-most-frequent-terms-indicating-emotions"><i class="fa fa-check"></i><b>1.4.3</b> The most frequent terms indicating emotions</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#sentiment-analysis"><i class="fa fa-check"></i><b>1.5</b> Sentiment analysis</a><ul>
<li class="chapter" data-level="1.5.1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#polarity-timeline"><i class="fa fa-check"></i><b>1.5.1</b> Polarity timeline</a></li>
<li class="chapter" data-level="1.5.2" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#analysis-on-sentence-level"><i class="fa fa-check"></i><b>1.5.2</b> Analysis on sentence-level</a></li>
<li class="chapter" data-level="1.5.3" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#what-are-the-most-emotional-reviews"><i class="fa fa-check"></i><b>1.5.3</b> What are the most emotional reviews?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html"><i class="fa fa-check"></i><b>2</b> Twitter Analysis for CO2mustGo initiative</a><ul>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#what-is-co2mustgo"><i class="fa fa-check"></i>What is CO2mustGO?</a></li>
<li class="chapter" data-level="2.1" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#sankey-diagram-energy-production-capacity"><i class="fa fa-check"></i><b>2.1</b> Sankey diagram: Energy production capacity</a></li>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#twitter-data-analysis"><i class="fa fa-check"></i>Twitter data analysis</a><ul>
<li class="chapter" data-level="2.1.1" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#data"><i class="fa fa-check"></i><b>2.1.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#text-cleaning-and-preprocessing"><i class="fa fa-check"></i><b>2.2</b> Text cleaning and preprocessing</a></li>
<li class="chapter" data-level="2.3" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#tweets-distribution"><i class="fa fa-check"></i><b>2.3</b> Tweets distribution</a></li>
<li class="chapter" data-level="2.4" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#word-frequency-in-tweets"><i class="fa fa-check"></i><b>2.4</b> Word Frequency in Tweets</a></li>
<li class="chapter" data-level="2.5" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#word-network-in-tweets"><i class="fa fa-check"></i><b>2.5</b> Word Network in Tweets</a></li>
<li class="chapter" data-level="2.6" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#wordcloud"><i class="fa fa-check"></i><b>2.6</b> Wordcloud</a></li>
<li class="chapter" data-level="2.7" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#word-associations"><i class="fa fa-check"></i><b>2.7</b> Word associations</a></li>
<li class="chapter" data-level="2.8" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#lda"><i class="fa fa-check"></i><b>2.8</b> LDA</a></li>
<li class="chapter" data-level="2.9" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#sentiment-analysis-1"><i class="fa fa-check"></i><b>2.9</b> Sentiment analysis</a></li>
<li class="chapter" data-level="2.10" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#visualize-the-emotions"><i class="fa fa-check"></i><b>2.10</b> Visualize the emotions</a></li>
<li class="chapter" data-level="2.11" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#top-retweeted-tweets"><i class="fa fa-check"></i><b>2.11</b> Top retweeted Tweets</a><ul>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#top-retweets-with-equal-or-more-than-60-mentions"><i class="fa fa-check"></i>Top retweets (with equal or more than 60 mentions)</a></li>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#interactive-graph-with-retweets-text"><i class="fa fa-check"></i>Interactive graph with retweets’ text</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#network-of-retweets"><i class="fa fa-check"></i><b>2.12</b> Network of retweets</a><ul>
<li class="chapter" data-level="2.12.1" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#where-do-people-tweet-the-most"><i class="fa fa-check"></i><b>2.12.1</b> Where do people tweet the most?</a></li>
<li class="chapter" data-level="2.12.2" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#who-are-the-users-who-retweet-the-most"><i class="fa fa-check"></i><b>2.12.2</b> Who are the users who retweet the most?</a></li>
<li class="chapter" data-level="2.12.3" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#who-are-the-most-retweeted-users"><i class="fa fa-check"></i><b>2.12.3</b> Who are the most retweeted users?</a></li>
<li class="chapter" data-level="2.12.4" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#who-are-users-important-for-connecting-with-others-in-network"><i class="fa fa-check"></i><b>2.12.4</b> Who are users important for connecting with others in network?</a></li>
<li class="chapter" data-level="2.12.5" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#clustering"><i class="fa fa-check"></i><b>2.12.5</b> Clustering</a></li>
<li class="chapter" data-level="2.12.6" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#community-detection"><i class="fa fa-check"></i><b>2.12.6</b> Community detection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html"><i class="fa fa-check"></i><b>3</b> Text Analysis of Novels</a><ul>
<li class="chapter" data-level="3.1" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#data-1"><i class="fa fa-check"></i><b>3.1</b> Data</a></li>
<li class="chapter" data-level="3.2" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#text-cleaning"><i class="fa fa-check"></i><b>3.2</b> Text cleaning</a></li>
<li class="chapter" data-level="3.3" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#awakening"><i class="fa fa-check"></i><b>3.3</b> Awakening</a></li>
<li class="chapter" data-level="3.4" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#commonality-cloud-and-comparison-cloud"><i class="fa fa-check"></i><b>3.4</b> Commonality cloud and Comparison cloud</a></li>
<li class="chapter" data-level="3.5" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#sentiment-timeline"><i class="fa fa-check"></i><b>3.5</b> Sentiment timeline</a></li>
<li class="chapter" data-level="3.6" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#topic-modelling-lda"><i class="fa fa-check"></i><b>3.6</b> Topic Modelling: LDA</a></li>
<li class="chapter" data-level="3.7" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#main-points-of-interpretation"><i class="fa fa-check"></i><b>3.7</b> Main points of interpretation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html"><i class="fa fa-check"></i><b>4</b> COVID 19 Dashboard for Balkan countries*</a><ul>
<li class="chapter" data-level="4.1" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#data-2"><i class="fa fa-check"></i><b>4.1</b> Data</a></li>
<li class="chapter" data-level="4.2" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#curve-of-confirmed-cases"><i class="fa fa-check"></i><b>4.2</b> Curve of confirmed cases</a></li>
<li class="chapter" data-level="4.3" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#total-cases-per-1-million-people"><i class="fa fa-check"></i><b>4.3</b> Total cases per 1 million people</a></li>
<li class="chapter" data-level="4.4" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#deaths-vs-recovered"><i class="fa fa-check"></i><b>4.4</b> Deaths vs Recovered</a></li>
<li class="chapter" data-level="4.5" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#active-cases-vs-new-cases"><i class="fa fa-check"></i><b>4.5</b> Active cases vs New cases</a></li>
<li class="chapter" data-level="4.6" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#hospitalization"><i class="fa fa-check"></i><b>4.6</b> Hospitalization</a><ul>
<li class="chapter" data-level="4.6.1" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#croatia"><i class="fa fa-check"></i><b>4.6.1</b> Croatia</a></li>
<li class="chapter" data-level="4.6.2" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#slovenia"><i class="fa fa-check"></i><b>4.6.2</b> Slovenia</a></li>
<li class="chapter" data-level="4.6.3" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#austria"><i class="fa fa-check"></i><b>4.6.3</b> Austria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html"><i class="fa fa-check"></i><b>5</b> Churn prediction with Random Forest</a><ul>
<li class="chapter" data-level="5.1" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#why-predicting-customer-churn"><i class="fa fa-check"></i><b>5.1</b> Why predicting customer churn?</a></li>
<li class="chapter" data-level="5.2" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#data-3"><i class="fa fa-check"></i><b>5.2</b> Data</a></li>
<li class="chapter" data-level="5.3" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#data-pre-processing"><i class="fa fa-check"></i><b>5.3</b> Data Pre-processing</a></li>
<li class="chapter" data-level="5.4" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#data-partition"><i class="fa fa-check"></i><b>5.4</b> Data partition</a></li>
<li class="chapter" data-level="5.5" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#random-forest-model"><i class="fa fa-check"></i><b>5.5</b> Random Forest model</a></li>
<li class="chapter" data-level="5.6" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#evaluating-model"><i class="fa fa-check"></i><b>5.6</b> Evaluating Model</a></li>
<li class="chapter" data-level="5.7" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#references"><i class="fa fa-check"></i><b>5.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="problem-formulation.html"><a href="problem-formulation.html"><i class="fa fa-check"></i><b>6</b> Problem formulation</a></li>
<li class="chapter" data-level="7" data-path="data-collection.html"><a href="data-collection.html"><i class="fa fa-check"></i><b>7</b> Data collection</a></li>
<li class="chapter" data-level="8" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html"><i class="fa fa-check"></i><b>8</b> Data preparation and preprocessing</a><ul>
<li class="chapter" data-level="8.1" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#packages"><i class="fa fa-check"></i><b>8.1</b> Packages</a></li>
<li class="chapter" data-level="8.2" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#data-loading-and-inspecting"><i class="fa fa-check"></i><b>8.2</b> Data loading and inspecting</a></li>
<li class="chapter" data-level="8.3" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>8.3</b> Exploratory data analysis</a><ul>
<li class="chapter" data-level="8.3.1" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#how-many-unique-products-are-reviewed"><i class="fa fa-check"></i><b>8.3.1</b> How many unique products are reviewed?</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#how-many-reviewers-do-we-have"><i class="fa fa-check"></i><b>8.3.2</b> How many reviewers do we have?</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#how-many-scores-do-we-have"><i class="fa fa-check"></i><b>8.3.3</b> How many scores do we have?</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#what-is-the-distribution-of-ratings"><i class="fa fa-check"></i><b>8.3.4</b> What is the distribution of ratings?</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#what-is-the-average-number-of-reviews-per-user"><i class="fa fa-check"></i><b>8.3.5</b> What is the average number of reviews per user?</a></li>
<li class="chapter" data-level="8.3.6" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#what-is-the-average-score-per-user"><i class="fa fa-check"></i><b>8.3.6</b> What is the average score per user?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="building-a-model.html"><a href="building-a-model.html"><i class="fa fa-check"></i><b>9</b> Building a model</a><ul>
<li class="chapter" data-level="9.1" data-path="building-a-model.html"><a href="building-a-model.html#final-data-outlook"><i class="fa fa-check"></i><b>9.1</b> Final data outlook</a></li>
<li class="chapter" data-level="9.2" data-path="building-a-model.html"><a href="building-a-model.html#subsetting-data"><i class="fa fa-check"></i><b>9.2</b> Subsetting data</a></li>
<li class="chapter" data-level="9.3" data-path="building-a-model.html"><a href="building-a-model.html#formatting-data"><i class="fa fa-check"></i><b>9.3</b> Formatting data</a></li>
<li class="chapter" data-level="9.4" data-path="building-a-model.html"><a href="building-a-model.html#inspecting-rating-matrix"><i class="fa fa-check"></i><b>9.4</b> Inspecting rating matrix</a></li>
<li class="chapter" data-level="9.5" data-path="building-a-model.html"><a href="building-a-model.html#building-a-recommender"><i class="fa fa-check"></i><b>9.5</b> Building a recommender</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="interpretation-and-managerial-implications.html"><a href="interpretation-and-managerial-implications.html"><i class="fa fa-check"></i><b>10</b> Interpretation and managerial implications</a><ul>
<li class="chapter" data-level="10.1" data-path="interpretation-and-managerial-implications.html"><a href="interpretation-and-managerial-implications.html#identification-of-the-recommended-products"><i class="fa fa-check"></i><b>10.1</b> Identification of the recommended products</a></li>
<li class="chapter" data-level="10.2" data-path="interpretation-and-managerial-implications.html"><a href="interpretation-and-managerial-implications.html#implications"><i class="fa fa-check"></i><b>10.2</b> Implications</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="bonus-analysis-text-mining.html"><a href="bonus-analysis-text-mining.html"><i class="fa fa-check"></i><b>11</b> Bonus analysis: Text Mining</a><ul>
<li class="chapter" data-level="11.1" data-path="bonus-analysis-text-mining.html"><a href="bonus-analysis-text-mining.html#wordcloud-1"><i class="fa fa-check"></i><b>11.1</b> Wordcloud</a></li>
<li class="chapter" data-level="11.2" data-path="bonus-analysis-text-mining.html"><a href="bonus-analysis-text-mining.html#comparison-cloud"><i class="fa fa-check"></i><b>11.2</b> Comparison cloud</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="future-work.html"><a href="future-work.html"><i class="fa fa-check"></i><b>12</b> Future work</a></li>
<li class="chapter" data-level="13" data-path="limitations.html"><a href="limitations.html"><i class="fa fa-check"></i><b>13</b> Limitations</a></li>
<li class="divider"></li>
<li><a href="https://at.linkedin.com/in/mirzamujanovic?trk=profile-badge" target="blank">LinkedIn: Mirza Mujanovic</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="building-a-model" class="section level1">
<h1><span class="header-section-number">9</span> Building a model</h1>
<div id="final-data-outlook" class="section level2">
<h2><span class="header-section-number">9.1</span> Final data outlook</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="building-a-model.html#cb32-1"></a><span class="kw">str</span>(my_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    8581 obs. of  10 variables:
##  $ product/price     : num  24.19 24.19 24.19 24.19 5.99 ...
##  $ product/productId : Factor w/ 928 levels &quot;B000052Z5B&quot;,&quot;B000052Z5L&quot;,..: 255 255 255 255 707 707 564 564 564 564 ...
##  $ product/title     : chr  &quot;Oscar Eau de Toilette for Women by Oscar de La Renta&quot; &quot;Oscar Eau de Toilette for Women by Oscar de La Renta&quot; &quot;Oscar Eau de Toilette for Women by Oscar de La Renta&quot; &quot;Oscar Eau de Toilette for Women by Oscar de La Renta&quot; ...
##  $ review/helpfulness: chr  &quot; 0/0&quot; &quot; 0/0&quot; &quot; 0/0&quot; &quot; 0/0&quot; ...
##  $ review/profileName: chr  &quot; Heidi M&quot; &quot; Donna Mpaulin \&quot;PURPLE RAVEN\&quot;&quot; &quot; M. Avila&quot; &quot; Kim M. Colt&quot; ...
##  $ review/score      : num  3 5 1 5 5 5 5 5 5 5 ...
##  $ review/summary    : chr  &quot; doesn&#39;t last&quot; &quot; Smells divine.&quot; &quot; Very disappointed!&quot; &quot; Nice gift&quot; ...
##  $ review/text       : chr  &quot; very light scent that doesn&#39;t last very long. pretty bottle but I was hoping for more of a freesia scent. which it was not.&quot; &quot; This is my second bottle of sheer freesia, I just love this fragrance, its a light delicate sent, beautiful, l&quot;| __truncated__ &quot; This perfume is just AWFUL! Smells nothing like freesia.The gift recipient was not impressed. The worst is tha&quot;| __truncated__ &quot; This was a gift for my sister. It wowed her. She has always worn Freesia but typically can only find it in bod&quot;| __truncated__ ...
##  $ review/time       : chr  &quot; 1360368000&quot; &quot; 1358467200&quot; &quot; 1357084800&quot; &quot; 1326240000&quot; ...
##  $ review/userId     : Factor w/ 8002 levels &quot;A00275441WYR3489IKNAB&quot;,..: 991 1750 460 4495 6041 1564 1297 3073 7617 6496 ...</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="building-a-model.html#cb34-1"></a><span class="kw">head</span>(my_data)</span></code></pre></div>
<pre><code>##   product/price product/productId
## 1         24.19        B00064C0IU
## 2         24.19        B00064C0IU
## 3         24.19        B00064C0IU
## 4         24.19        B00064C0IU
## 5          5.99        B000K5JBZU
## 6          5.99        B000K5JBZU
##                                                           product/title
## 1                  Oscar Eau de Toilette for Women by Oscar de La Renta
## 2                  Oscar Eau de Toilette for Women by Oscar de La Renta
## 3                  Oscar Eau de Toilette for Women by Oscar de La Renta
## 4                  Oscar Eau de Toilette for Women by Oscar de La Renta
## 5 Optimum Care Anti-Breakage Therapy Moisture Replenish Cream Hairdress
## 6 Optimum Care Anti-Breakage Therapy Moisture Replenish Cream Hairdress
##   review/helpfulness            review/profileName review/score
## 1                0/0                       Heidi M            3
## 2                0/0  Donna Mpaulin &quot;PURPLE RAVEN&quot;            5
## 3                0/0                      M. Avila            1
## 4                0/0                   Kim M. Colt            5
## 5                1/1                        PloveJ            5
## 6                0/0                        LADY-I            5
##                                         review/summary
## 1                                         doesn&#39;t last
## 2                                       Smells divine.
## 3                                   Very disappointed!
## 4                                            Nice gift
## 5                             TRULY MADE A DIFFERENCE!
## 6  Excellent Product for treatment of Breakage of ends
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            review/text
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                          very light scent that doesn&#39;t last very long. pretty bottle but I was hoping for more of a freesia scent. which it was not.
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                      This is my second bottle of sheer freesia, I just love this fragrance, its a light delicate sent, beautiful, like a summer day.
## 3                                                                                                                                                                                                                                                                                                                                                                                                                                This perfume is just AWFUL! Smells nothing like freesia.The gift recipient was not impressed. The worst is that it can&#39;t be returned!
## 4                                                                                                                                                                                                                                                                                                                                     This was a gift for my sister. It wowed her. She has always worn Freesia but typically can only find it in body lotion or such. This product really thrilled her, a nice perfume in her favorite scent with a beautiful package.
## 5  I have been using this product for a couple years now. I started using it because my hair had gotten so dry from all the chemical treatments and relaxers. This actualy came in the relaxer kit. I tried it and could not beleive the difference it made with one use. I could not find it in any of the stores at the time so I searched Amazon and they had it. I absolutely love it. It is the best moisturizing product I have used so far. My hair is soft with good elasticity and it is not breaking anywhere close to what it was. I am very happy with it.
## 6                                                                                                                                                                                                                                                                                                                                    I Tried this product in the past and fell in love with it. I could not find it for some time and am now very pleased that I was abe to find it again here on amazon. It smoothes the hair and faciltate ease in removing tangles.
##   review/time  review/userId
## 1  1360368000 A1FWT811DSZLC8
## 2  1358467200 A1THE6V6O8ROD4
## 3  1357084800 A176IQ7MVD3N6T
## 4  1326240000 A34BDX4JVMG23Y
## 5  1351987200 A3UWJXJI7S3T05
## 6  1360972800 A1QAXWETH56D6J</code></pre>
</div>
<div id="subsetting-data" class="section level2">
<h2><span class="header-section-number">9.2</span> Subsetting data</h2>
<p>In order to model a recommender system, three variables in our case are of great importance:</p>
<ul>
<li>User ID</li>
<li>Product ID</li>
<li>Score / Rating</li>
</ul>
<p>Our model will be based on these three variables. Additionally, we will make use of the remaining features by utilizing some text mining techniques, but you will find more details at some later point.
Now, we will make a subset of our data with 3 mentioned variables:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="building-a-model.html#cb36-1"></a>subset_my_data &lt;-<span class="st"> </span><span class="kw">subset</span>(my_data, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>,<span class="st">`</span><span class="dt">product/productId</span><span class="st">`</span>,<span class="st">`</span><span class="dt">review/score</span><span class="st">`</span>))</span></code></pre></div>
<p>Let us inspect the dimensions:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="building-a-model.html#cb37-1"></a><span class="kw">dim</span>(subset_my_data)</span></code></pre></div>
<pre><code>## [1] 8581    3</code></pre>
<p>Our data subset ha</p>
</div>
<div id="formatting-data" class="section level2">
<h2><span class="header-section-number">9.3</span> Formatting data</h2>
<p>Our data is currently in the long format, i.e. one row for one rating. However, we would want to get a matrix with ratings where the rows represent the users IDs and the columns the Product IDs.
Thus, we will transform our data to so called rating matrix:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="building-a-model.html#cb39-1"></a>ratings &lt;-<span class="st"> </span><span class="kw">as</span>(subset_my_data, <span class="st">&quot;realRatingMatrix&quot;</span>)</span></code></pre></div>
<p>In order to avoid “high/low rating bias” from users who give high (or low) ratings to all the products they reviewed, we will need to normalize our data. That would prevent certain bias in the results.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="building-a-model.html#cb40-1"></a>ratings &lt;-<span class="st"> </span><span class="kw">normalize</span>(ratings)</span></code></pre></div>
</div>
<div id="inspecting-rating-matrix" class="section level2">
<h2><span class="header-section-number">9.4</span> Inspecting rating matrix</h2>
<p>We can plot an image of the rating matrix for the first 250 users and 250 products:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="building-a-model.html#cb41-1"></a><span class="kw">image</span>(ratings[<span class="dv">1</span><span class="op">:</span><span class="dv">250</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">250</span>])</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>From the visualisation we can see that rating matrix is very sparse, i.e. that not every user did rate/review every product in our data set.</p>
<p>We can inspect the data for the first 10 users and the first 4 products:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="building-a-model.html#cb42-1"></a>ratings[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]<span class="op">@</span>data</span></code></pre></div>
<pre><code>## 10 x 4 sparse Matrix of class &quot;dgCMatrix&quot;
##                       B000052Z5B B000052Z5L B000052Z5M B000052Z89
## A00275441WYR3489IKNAB          .          .          .          .
## A0353671240B3B6L8WKZB          .          .          .          .
## A0793784FP3F6ZXZDTN6           .          .          .          .
## A10013UITIMJVI                 .          .          .          .
## A1008GFLTBL76H                 .          .          .          .
## A100VLYGYI6FXY                 .          .          .          .
## A100W0JWG5GB6G                 .          .          .          .
## A1016Z89IM29SK                 .          .          .          .
## A102NKLXRT5KEM                 .          .          .          .
## A102U9TVYZC0DX                 .          .          .          .</code></pre>
<p>As we already saw in the visualisation, the data is sparse and the first 10 users did not review first 4 products visualised in the matrix above.</p>
</div>
<div id="building-a-recommender" class="section level2">
<h2><span class="header-section-number">9.5</span> Building a recommender</h2>
<p>Finally, we will now build our recommendation system based on <strong>User-based collaborative filtering</strong>
User-based collaborative filtering search for similar users and gives them recommendations based on what other users with similar rating patterns appreciated:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="building-a-model.html#cb44-1"></a>recommender &lt;-<span class="st"> </span><span class="kw">Recommender</span>(ratings, <span class="dt">method=</span><span class="st">&quot;UBCF&quot;</span>)</span>
<span id="cb44-2"><a href="building-a-model.html#cb44-2"></a>recommender</span></code></pre></div>
<pre><code>## Recommender of type &#39;UBCF&#39; for &#39;realRatingMatrix&#39; 
## learned using 8002 users.</code></pre>
<p>Additionally, in order to compare results of two methods, we would like to apply <strong>item-based collaborative filtering</strong> method to build another recommender system. In contrast to user-based collaborative filtering, item-based collaborative filtering looks for similarity patterns between <strong>items</strong> and recommends them to users based on the computed information.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="building-a-model.html#cb46-1"></a>recommenderIBCF &lt;-<span class="st"> </span><span class="kw">Recommender</span>(ratings, <span class="dt">method=</span><span class="st">&quot;IBCF&quot;</span>, <span class="dt">parameter =</span><span class="kw">list</span>(<span class="dt">k=</span><span class="dv">50</span>))</span></code></pre></div>
<pre><code>## Warning in .local(x, ...): x was already normalized by row!</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="building-a-model.html#cb48-1"></a>recommenderIBCF</span></code></pre></div>
<pre><code>## Recommender of type &#39;IBCF&#39; for &#39;realRatingMatrix&#39; 
## learned using 8002 users.</code></pre>
<p>As reported, both recommendation systems are built using 8002 users.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-preparation-and-preprocessing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interpretation-and-managerial-implications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07-Recommendation_system.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
